# プロジェクト仕様書

## アプリケーション概要

### 基本情報
- **アプリ名**: サブスクリプション管理アプリ
- **フレームワーク**: React Native + Expo
- **言語**: TypeScript
- **スタイリング**: NativeWind (Tailwind CSS)

### 主要機能
1. **サブスクリプション管理**
   - 追加・編集・削除
   - カテゴリ分類
   - 支払いサイクル管理
   - 次回支払い日設定
   - 解約期限設定

2. **3つのメインビュー**
   - **リスト画面**: サブスクリプション一覧とサマリー
   - **カレンダー画面**: 月別カレンダー表示
   - **分析画面**: カテゴリ別支出分析

3. **認証機能**
   - ログイン
   - 新規登録
   - パスワードリセット

4. **設定機能**
   - 通知設定
   - カテゴリ管理

## 技術仕様

### 状態管理
- **認証状態**: `isAuthenticated` (boolean)
- **サブスクリプション**: グローバル状態（`_layout.tsx`）
- **ローディング**: `LoadingContext` (React Context)
- **アクティブタブ**: `activeTab` (string)

### データ構造

#### Subscription
```typescript
interface Subscription {
  id: string
  name: string
  amount: number
  category: string
  cycle: 'monthly' | 'yearly' | 'weekly' | 'daily'
  nextPayment: Date
  cancelDeadline?: Date
  isActive: boolean
}
```

#### Category
```typescript
interface Category {
  id: string
  name: string
  color: string
}
```

### カテゴリカラー
- **エンターテイメント**: `#8b5cf6` (紫)
- **ビジネス**: `#3b82f6` (青)
- **クラウド**: `#06b6d4` (シアン)
- **フィットネス**: `#10b981` (緑)
- **食品**: `#f59e0b` (オレンジ)
- **日用品**: `#f97316` (オレンジ)
- **美容**: `#ec4899` (ピンク)
- **その他**: `#6b7280` (グレー)

### 支払いサイクル計算
- **月次**: そのまま
- **年次**: `amount / 12`
- **週次**: `amount * 4.33` (平均週数)
- **日次**: `amount * 30.44` (平均日数)

## UI/UX 仕様

### デザインシステム
- **メインカラー**: オレンジ (`#f97316`)
- **背景色**: オレンジ50 (`#FFF7ED`)
- **テキスト**: グレー900 (`#111827`)
- **ボーダー**: グレー200 (`#e5e7eb`)

### コンポーネント仕様
- **ボタン**: プライマリ（オレンジ）、セカンダリ（グレー）
- **カード**: 白背景、影付き
- **入力フィールド**: アイコン付き、バリデーション表示
- **モーダル**: 中央表示、背景オーバーレイ

### レスポンシブ対応
- iOS/Android 両対応
- SafeAreaView 使用
- キーボード回避対応

## 通知仕様

### 通知タイミング
- **支払いリマインダー**: 支払い日の1日前
- **解約リマインダー**: 解約期限の1週間前

### 通知設定
- 支払いリマインダー: ON/OFF
- 解約リマインダー: ON/OFF
- 通知タイミング: 1日前 / 3日前 / 1週間前

## パフォーマンス要件

### 目標値
- アプリ起動時間: 3秒以内
- 画面遷移: 1秒以内
- データ読み込み: 2秒以内

### 最適化方針
- 画像の最適化
- 不要な再レンダリングの防止
- メモリ使用量の最適化

## セキュリティ要件

### 認証
- パスワードのハッシュ化
- セッション管理
- 自動ログアウト機能

### データ保護
- 個人情報の暗号化
- 安全なデータ送信
- プライバシーポリシーの遵守

## テスト要件

### テスト対象
- ユニットテスト: ユーティリティ関数
- コンポーネントテスト: UI コンポーネント
- 統合テスト: 認証フロー
- E2Eテスト: 主要ユーザーフロー

### テスト環境
- Jest + React Native Testing Library
- Expo テスト環境
- 実機テスト 